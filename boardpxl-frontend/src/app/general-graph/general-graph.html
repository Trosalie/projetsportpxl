<app-title
  [title]="'GRAPHIQUE GÉNÉRAL'"
  [icon]="'assets/images/logo-tableau-de-bord.png'">
</app-title>

<div class="graph-container">

  <div *ngIf="loading" class="loading">
    <p>Chargement des données...</p>
  </div>

  <div *ngIf="error" class="error">
    <p>{{ error }}</p>
  </div>

  <div *ngIf="!loading && !error" class="content-wrapper">

    <!-- Sidebar gauche -->
    <div class="sidebar">
      <div class="bottom-squares">

        <div class="square-card">
          <div class="square-label">Chiffre d'Affaires Total</div>
          <div class="square-value">
            {{ getTotalRevenue() | currency:'EUR':'symbol':'1.0-0':'fr' }}
          </div>
        </div>

        <div class="square-card">
          <div class="square-label">Crédits Vendus</div>
          <div class="square-value">
            {{ getTotalCreditsSold() | number:'':'fr-FR' }}
          </div>
        </div>

        <div class="square-card">
          <div class="square-label">Commission Totale</div>
          <div class="square-value">
            {{ getTotalCommission() | currency:'EUR':'symbol':'1.0-0':'fr' }}
          </div>
        </div>

      </div>
    </div>


    <!-- <div class="main-content">
      <canvas #lineChartCanvas></canvas>
    </div> -->

    <!-- Line Chart -->
    <div class="chart-wrapper">
      <h2>Line Chart - Sales Trend</h2>
      <canvas #lineChartCanvas></canvas>
    </div>

  </div>
</div>
