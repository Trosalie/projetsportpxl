<div class="all">
  <div class="card">
    <img class="logo-sportpxl" src="https://www.app.sportpxl.com/static/media/logo-white.0384baa8e9b61cb89ab649fee1da120f.svg" alt="logo_sportpxl">
    <img class="login-icon" src="assets/images/login_icon.png" alt="icône de réinitialisation" />
    <h1>Réinitialiser votre mot de passe</h1>
    
    <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
    <p *ngIf="successMessage" class="success-message">{{ successMessage }}</p>

    <form (ngSubmit)="resetPassword()" *ngIf="!successMessage">
      <div class="bloc_input">
        <label for="email">Email</label>
        <input 
          id="email" 
          type="email" 
          placeholder="Email" 
          [(ngModel)]="email" 
          name="email"
          disabled
        />
      </div>

      <div class="bloc_input">
        <label for="password">Nouveau mot de passe</label>
        <input 
          id="password" 
          type="password" 
          placeholder="Min. 8 caractères" 
          [(ngModel)]="password" 
          name="password"
        />
      </div>

      <div class="bloc_input">
        <label for="password_confirmation">Confirmer le mot de passe</label>
        <input 
          id="password_confirmation" 
          type="password" 
          placeholder="Confirmez votre mot de passe" 
          [(ngModel)]="password_confirmation" 
          name="password_confirmation"
        />
      </div>

      <button 
        type="submit" 
        class="btn_login"
        [disabled]="isLoading || !token"
      >
        <span *ngIf="!isLoading">RÉINITIALISER</span>
        <span *ngIf="isLoading" class="spinner"></span>
      </button>
    </form>
  </div>
</div>
