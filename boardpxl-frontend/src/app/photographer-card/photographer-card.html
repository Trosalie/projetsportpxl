<div class="card" [class.expanded]="isExpanded">
    <button type="button" class="expand-btn" (click)="toggleExpand()">
        <span class="material-symbols-outlined">{{ isExpanded ? 'expand_less' : 'expand_more' }}</span>
    </button>

    <div class="photographer-info">
        <a [routerLink]="['/photographer', photographer.id]"
           [queryParams]="{name: photographer.name}">
            <p>{{ 'PHOTOGRAPHER_CARD.INFO_NAME' | translate }}{{ photographer.name }}</p>
        </a>
        <p *ngIf="photographer.email">{{ 'PHOTOGRAPHER_CARD.INFO_MAIL' | translate }}{{ photographer.email }}</p>
        <p *ngIf="!photographer.email">{{ 'PHOTOGRAPHER_CARD.NO_MAIL' | translate }}</p>
    </div>

    <div class="revenue-section">
        <p>{{ 'PHOTOGRAPHER_CARD.INFO_TURNOVER' | translate }}</p>
        <div class="value-button-pair chiffre-affaires">
            <p class="tag" *ngIf="!isLoadingPayments">{{ getChiffreAffaires() | currency:'EUR'}}</p>
            <div class="tag loading-tag" *ngIf="isLoadingPayments">
                <div class="mini-spinner"></div>
            </div>
            <button routerLink="/form/payout" [queryParams]="{ clientName: photographer.name }"><span class="material-symbols-outlined">note_add</span></button>
        </div>
    </div>

    <div class="credits-section">
        <p>{{ 'PHOTOGRAPHER_CARD.INFO_CREDITS' | translate }}</p>
        <div class="value-button-pair credits">
            <p class="tag">{{ getTotalCredits() }} cr</p>
            <button routerLink="/form/credits" [queryParams]="{ clientName: photographer.name }"><span class="material-symbols-outlined">note_add</span></button>
        </div>
    </div>

    <div class="status-section">
        <p class="status">{{ 'PHOTOGRAPHER_CARD.INFO_STATUS_INVOICES' | translate }}</p>
        <div class="statuts">
            <p>{{ 'PHOTOGRAPHER_CARD.INFO_PAYED_INVOICES' | translate }}</p>
            <p class="payees status-count" *ngIf="!isLoadingCredits">{{ getPaidInvoicesCount() }}</p>
            <div class="status-count loading-status-count" *ngIf="isLoadingCredits"><div class="mini-spinner"></div></div>

            <p>{{ 'PHOTOGRAPHER_CARD.INFO_NOT_PAYED_INVOICES' | translate }}</p>
            <p class="non-payees status-count" *ngIf="!isLoadingCredits">{{ getUnpaidInvoicesCount() }}</p>
            <div class="status-count loading-status-count" *ngIf="isLoadingCredits"><div class="mini-spinner"></div></div>

            <p>{{ 'PHOTOGRAPHER_CARD.INFO_LATE_INVOICES' | translate }}</p>
            <p class="en-retard status-count" *ngIf="!isLoadingCredits">{{ getLateInvoicesCount() }}</p>
            <div class="status-count loading-status-count" *ngIf="isLoadingCredits"><div class="mini-spinner"></div></div>
        </div>
    </div>
</div>
